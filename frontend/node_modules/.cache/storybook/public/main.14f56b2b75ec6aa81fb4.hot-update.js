webpackHotUpdate("main",{

/***/ "./src/components/Formulaire.js":
/*!**************************************!*\
  !*** ./src/components/Formulaire.js ***!
  \**************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emailjs_com__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emailjs-com */ "./node_modules/emailjs-com/source/index.js");
/* harmony import */ var emailjs_com__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(emailjs_com__WEBPACK_IMPORTED_MODULE_1__);
var _jsxFileName = "C:\\Users\\coren\\Desktop\\ING4 S7\\TECHNO WEB\\PROJET\\PROJECT_WEB_OCRES\\frontend\\src\\components\\Formulaire.js";




const Formulaire = () => {
  //Déclaration de chaque input
  const [name, setName] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const [promo, setPromo] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const [phone, setPhone] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const [email, setEmail] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const [message, setMessage] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(""); //Récupération des données saisies

  const handleSubmit = e => {
    e.preventDefault();
    let nameS = document.getElementById("name");
    let emailS = document.getElementById("email");
    let messageS = document.getElementById("message");
    let formMess = document.querySelector(".form-message");

    const isEmail = () => {
      let isMail = document.getElementById("not-mail");
      let regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/; //regex pour récupérer forcément un mail
      //Vérification du champ email

      if (email.match(regex)) {
        isMail.style.display = "none";
        return true;
      } else {
        isMail.style.display = "block";
        isMail.style.animation = "dongle 1s";
        setTimeout(() => {
          isMail.style.animation = "none";
        }, 1000);
        return false;
      }
    }; //Validation des champs


    if (name && isEmail() && message) {
      nameS.classList.remove("red");
      emailS.classList.remove("red");
      messageS.classList.remove("red"); //appel de emailJS

      emailjs_com__WEBPACK_IMPORTED_MODULE_1___default.a.send("service_zvmb35k", //ID de mon service
      "template_yrg83h7", //ID de mon template
      {
        name,
        promo,
        phone,
        email,
        message
      }, "user_WNeacQJhf6hMqYE9sfRWp" //ID utilisateur
      ).then(() => {
        formMess.innerHTML = "Message envoyé ! Je vous recontacterai dès que possible.";
        formMess.style.background = "#00c1ec";
        formMess.style.opacity = "1";
        document.getElementById("name").classList.remove("error");
        document.getElementById("email").classList.remove("error");
        document.getElementById("message").classList.remove("error"); //Réinitialisation des champs

        setName("");
        setPromo("");
        setPhone("");
        setEmail("");
        setMessage("");
        setTimeout(() => {
          formMess.style.opacity = "0";
        }, 5000);
      }, //Message d'erreur
      err => {
        console.log(err);
        formMess.style.background = "rgb(253, 87, 87)";
        formMess.innerHTML = "Une erreur s'est produite, veuillez réessayer.";
      }); //Vérification des champs obligatoires
    } else {
      formMess.innerHTML = "Merci de remplir correctement les champs requis *";
      formMess.style.background = "rgb(253, 87, 87)";
      formMess.style.opacity = "1";

      if (!name) {
        nameS.classList.add("error");
      }

      if (!email) {
        emailS.classList.add("error");
      }

      if (!message) {
        messageS.classList.add("error");
      }
    }
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", {
    className: "contact-form",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 107,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 108,
      columnNumber: 7
    }
  }, "Contactez-nous"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "form-content",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 109,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "text",
    id: "name",
    name: "name",
    required: true,
    onChange: e => setName(e.target.value),
    placeholder: "nom *",
    value: name,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 110,
      columnNumber: 9
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "text",
    id: "promo",
    name: "promo",
    required: true,
    onChange: e => setPromo(e.target.value),
    placeholder: "promo",
    value: promo,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 119,
      columnNumber: 9
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "text",
    id: "phone",
    name: "phone",
    required: true,
    onChange: e => setPhone(e.target.value),
    placeholder: "t\xE9l\xE9phone",
    value: phone,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 128,
      columnNumber: 9
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "email-content",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 137,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    id: "not-mail",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 138,
      columnNumber: 11
    }
  }, "Email non valide"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "mail",
    id: "email",
    name: "email",
    required: true,
    onChange: e => setEmail(e.target.value),
    placeholder: "email *",
    value: email,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 139,
      columnNumber: 11
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea", {
    id: "message",
    name: "message",
    onChange: e => setMessage(e.target.value),
    placeholder: "message *",
    value: message,
    required: true,
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 149,
      columnNumber: 9
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    className: "button hover",
    type: "submit",
    value: "Envoyer",
    onClick: e => handleSubmit(e),
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 158,
      columnNumber: 7
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "form-message",
    __self: undefined,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 164,
      columnNumber: 7
    }
  }));
};

Formulaire.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "Formulaire"
};
/* harmony default export */ __webpack_exports__["a"] = (Formulaire);

if (typeof STORYBOOK_REACT_CLASSES !== "undefined") {
  STORYBOOK_REACT_CLASSES["src\\components\\Formulaire.js"] = {
    name: "Formulaire",
    docgenInfo: Formulaire.__docgenInfo,
    path: "src\\components\\Formulaire.js"
  };
}

/***/ }),

/***/ "./src/stories/Formulaire.stories.js":
/*!*******************************************!*\
  !*** ./src/stories/Formulaire.stories.js ***!
  \*******************************************/
/*! exports provided: default, Red */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Red", function() { return Red; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_Formulaire__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/Formulaire */ "./src/components/Formulaire.js");
var _jsxFileName = "C:\\Users\\coren\\Desktop\\ING4 S7\\TECHNO WEB\\PROJET\\PROJECT_WEB_OCRES\\frontend\\src\\stories\\Formulaire.stories.js";

/* eslint-disable */
// @ts-nocheck
// @ts-ignore
var __STORY__ = "import React from 'react';\r\nimport Formulaire from '../components/Formulaire';\r\n\r\nexport default {\r\n  title: \"Formulaire\",\r\n  component: Formulaire,\r\n}\r\n\r\nexport const Red = () => <Formulaire/>\r\n"; // @ts-ignore

var __LOCATIONS_MAP__ = {
  "Red": {
    "startLoc": {
      "col": 19,
      "line": 9
    },
    "endLoc": {
      "col": 38,
      "line": 9
    },
    "startBody": {
      "col": 19,
      "line": 9
    },
    "endBody": {
      "col": 38,
      "line": 9
    }
  }
};


/* harmony default export */ __webpack_exports__["default"] = ({
  title: "Formulaire",
  component: _components_Formulaire__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"]
});
const Red = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Formulaire__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"], {
  __self: undefined,
  __source: {
    fileName: _jsxFileName,
    lineNumber: 17,
    columnNumber: 26
  }
});
Red.parameters = {
  storySource: {
    source: "() => <Formulaire/>"
  },
  ...Red.parameters
};
Red.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "Red"
};

if (typeof STORYBOOK_REACT_CLASSES !== "undefined") {
  STORYBOOK_REACT_CLASSES["src\\stories\\Formulaire.stories.js"] = {
    name: "Red",
    docgenInfo: Red.__docgenInfo,
    path: "src\\stories\\Formulaire.stories.js"
  };
}

/***/ })

})
//# sourceMappingURL=main.14f56b2b75ec6aa81fb4.hot-update.js.map