{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\coren\\\\Desktop\\\\ING4 S7\\\\TECHNO WEB\\\\PROJET\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\components\\\\Connexion.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../style/components/_connexion.scss';\n\nfunction Connexion() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [usersList, setUsersList] = useState([]);\n  const [newEmail, setNewEmail] = useState('');\n  useEffect(() => {\n    axios.get('http://localhost:3001/membres').then(response => {\n      setUsersList(response.data);\n    });\n  }, []);\n\n  const addToList = () => {\n    axios.post('http://localhost:3001/connexion', {\n      email: email,\n      password: password\n    });\n  };\n\n  const updateEmail = id => {\n    axios.put(\"http://localhost:3001/maj\", {\n      id: id,\n      newEmail: newEmail\n    });\n  };\n\n  const deleteUser = id => {\n    axios.delete(`http://localhost:3001/suppression/${id}`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"Connexion\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: email,\n    placeholder: \"Email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    value: password,\n    placeholder: \"Mot de passe\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: addToList,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"Se Connecter\")), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Liste des Membres :\"), usersList.map((val, key) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form2\",\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, \" \", val.firstname, \" \", val.lastname, \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Modifier le mail...\",\n      onChange: event => {\n        setNewEmail(event.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button2\",\n      onClick: () => updateEmail(val._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, \"Modifier\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button2\",\n      onClick: () => deleteUser(val._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, \"Supprimer\"));\n  }));\n}\n\nexport default Connexion;","map":{"version":3,"sources":["C:/Users/coren/Desktop/ING4 S7/TECHNO WEB/PROJET/PROJECT_WEB_OCRES/frontend/src/components/Connexion.js"],"names":["React","useState","useEffect","axios","Connexion","email","setEmail","password","setPassword","usersList","setUsersList","newEmail","setNewEmail","get","then","response","data","addToList","post","updateEmail","id","put","deleteUser","delete","e","target","value","map","val","key","firstname","lastname","event","_id"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport '../style/components/_connexion.scss';\r\n\r\nfunction Connexion() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const[usersList,setUsersList]=useState([]);\r\n  const[newEmail,setNewEmail]=useState('');\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:3001/membres').then((response) => {\r\n      setUsersList(response.data);\r\n    });\r\n\r\n  }, []);\r\n\r\n const addToList = () => {\r\n  axios.post('http://localhost:3001/connexion', {email: email, password: password });\r\n  };\r\n\r\n  const updateEmail= (id) => {\r\n    axios.put(\"http://localhost:3001/maj\", {\r\n      id:id,\r\n      newEmail:newEmail,\r\n    });\r\n  };\r\n\r\n  const deleteUser= (id) => {\r\n    axios.delete(`http://localhost:3001/suppression/${id}`)\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-login\">\r\n      <h1>Connexion</h1>\r\n      <form className=\"form-login\" >\r\n        <input type=\"text\" value={email} placeholder=\"Email\" onChange={(e) => setEmail(e.target.value)} />\r\n        <input type=\"password\" value={password} placeholder=\"Mot de passe\" onChange={(e) => setPassword(e.target.value)} />\r\n        <button className=\"button\" onClick={addToList} type=\"submit\">Se Connecter</button>\r\n      </form>\r\n      <h1>Liste des Membres :</h1>\r\n      {usersList.map((val,key) => {\r\n        return (\r\n          <div className=\"form2\"key={key}>\r\n            <h5> {val.firstname}{\" \"}{val.lastname} </h5>\r\n            <input type=\"text\" placeholder=\"Modifier le mail...\"\r\n            onChange={(event) => {\r\n              setNewEmail(event.target.value);\r\n            }}/>\r\n            <button className=\"button2\" onClick={() => updateEmail(val._id)}>Modifier</button>\r\n            <button className=\"button2\" onClick={() => deleteUser(val._id)}>Supprimer</button>\r\n          </div> \r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Connexion;\r\n"]},"metadata":{},"sourceType":"module"}