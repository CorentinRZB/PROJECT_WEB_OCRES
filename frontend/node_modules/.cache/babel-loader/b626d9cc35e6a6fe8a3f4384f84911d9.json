{"ast":null,"code":"const express = require(\"express\");\n\nconst cors = require(\"cors\");\n\nconst bodyParser = require(\"body-parser\");\n\nconst fs = require(\"fs\");\n\nconst app = express();\napp.use(cors());\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use(express.json());\napp.listen(5000, () => console.log(\"Server Running...\"));\n\nconst pollData = require(\"./data.json\");\n\napp.get(\"/poll\", function (req, res) {\n  res.send(pollData);\n});\napp.post(\"/poll\", function (req, res) {\n  if (req.body) {\n    fs.writeFileSync(\"data.json\", JSON.stringify(req.body));\n    res.send({\n      message: \"Data Saved\"\n    });\n  } else {\n    res.status(400).send({\n      message: \"Error No Data\"\n    });\n  }\n});","map":{"version":3,"sources":["C:/Users/coren/Desktop/ING4 S7/TECHNO WEB/PROJET/PROJECT_WEB_OCRES/frontend/src/sondages/server.js"],"names":["express","require","cors","bodyParser","fs","app","use","urlencoded","extended","json","listen","console","log","pollData","get","req","res","send","post","body","writeFileSync","JSON","stringify","message","status"],"mappings":"AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,UAAU,GAAGF,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAMG,EAAE,GAAGH,OAAO,CAAC,IAAD,CAAlB;;AAEA,MAAMI,GAAG,GAAGL,OAAO,EAAnB;AACAK,GAAG,CAACC,GAAJ,CAAQJ,IAAI,EAAZ;AACAG,GAAG,CAACC,GAAJ,CAAQN,OAAO,CAACO,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAnB,CAAR;AACAH,GAAG,CAACC,GAAJ,CAAQN,OAAO,CAACS,IAAR,EAAR;AAEAJ,GAAG,CAACK,MAAJ,CAAW,IAAX,EAAiB,MAAMC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAvB;;AAEA,MAAMC,QAAQ,GAAGZ,OAAO,CAAC,aAAD,CAAxB;;AACAI,GAAG,CAACS,GAAJ,CAAQ,OAAR,EAAiB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACnCA,EAAAA,GAAG,CAACC,IAAJ,CAASJ,QAAT;AACD,CAFD;AAIAR,GAAG,CAACa,IAAJ,CAAS,OAAT,EAAkB,UAAUH,GAAV,EAAeC,GAAf,EAAoB;AAClC,MAAID,GAAG,CAACI,IAAR,EAAc;AACZf,IAAAA,EAAE,CAACgB,aAAH,CAAiB,WAAjB,EAA8BC,IAAI,CAACC,SAAL,CAAeP,GAAG,CAACI,IAAnB,CAA9B;AACAH,IAAAA,GAAG,CAACC,IAAJ,CAAS;AACPM,MAAAA,OAAO,EAAE;AADF,KAAT;AAGD,GALD,MAKO;AACLP,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBP,IAAhB,CAAqB;AACnBM,MAAAA,OAAO,EAAE;AADU,KAArB;AAGD;AACF,CAXH","sourcesContent":["\r\nconst express = require(\"express\");\r\nconst cors = require(\"cors\");\r\nconst bodyParser = require(\"body-parser\");\r\nconst fs = require(\"fs\");\r\n\r\nconst app = express();\r\napp.use(cors());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.json());\r\n\r\napp.listen(5000, () => console.log(\"Server Running...\"));\r\n\r\nconst pollData = require(\"./data.json\");\r\napp.get(\"/poll\", function (req, res) {\r\n  res.send(pollData);\r\n});\r\n\r\napp.post(\"/poll\", function (req, res) {  \r\n    if (req.body) {\r\n      fs.writeFileSync(\"data.json\", JSON.stringify(req.body));\r\n      res.send({\r\n        message: \"Data Saved\",\r\n      });\r\n    } else {\r\n      res.status(400).send({\r\n        message: \"Error No Data\",\r\n      });\r\n    }\r\n  });"]},"metadata":{},"sourceType":"module"}