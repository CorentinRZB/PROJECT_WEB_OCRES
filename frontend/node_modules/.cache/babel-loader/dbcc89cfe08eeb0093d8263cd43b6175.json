{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arnau\\\\Desktop\\\\OCRES\\\\Dev Web\\\\Repository\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\components\\\\D\\xE9compte.js\";\nimport React, { Component } from 'react';\nimport \"../style/components/_décompte.scss\";\nimport { DécompteData } from './DécompteData';\n\nclass Décompte extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      days: 0,\n      hours: '00',\n      minutes: '00',\n      seconds: '00',\n      timeUp: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(clubsList).then(response => {\n      if (!response.ok) {\n        throw Error(\"Failed connection to the API\");\n      }\n\n      return response;\n    }).then(response => response.json()).then(response => {\n      this.setState({\n        clubs: response\n      });\n    }, () => {\n      this.setState({\n        requestFailed: true\n      });\n    });\n    setInterval(() => {\n      let eventDate = +new Date(this.props.date);\n      let difference = eventDate - +new Date();\n      console.log(difference);\n\n      if (difference < 1) {\n        this.setState({\n          timeUp: true\n        });\n      } else {\n        let days = Math.floor(difference / (1000 * 60 * 60 * 24));\n        let hours = Math.floor(difference / (1000 * 60 * 60) % 24);\n        let minutes = Math.floor(difference / (1000 * 60) % 60);\n        let seconds = Math.floor(difference / 1000 % 60);\n        this.setState({\n          hours: hours > 9 ? hours : `0${hours}`,\n          minutes: minutes > 9 ? minutes : `0${minutes}`,\n          seconds: seconds > 9 ? seconds : `0${seconds}`,\n          days\n        });\n      }\n    }, 1000);\n  }\n\n  render() {\n    const {\n      days,\n      hours,\n      minutes,\n      seconds,\n      timeUp\n    } = this.state;\n    const dayString = days > 1 ? 'days' : 'day';\n    return timeUp ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, \" \") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"event\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, `Prochain Événement dans : ${days} ${dayString} ${hours} hours ${minutes}  minutes ${seconds} seconds`);\n  }\n\n}\n\n;\nexport default Décompte;","map":{"version":3,"sources":["C:/Users/arnau/Desktop/OCRES/Dev Web/Repository/PROJECT_WEB_OCRES/frontend/src/components/Décompte.js"],"names":["React","Component","DécompteData","Décompte","state","days","hours","minutes","seconds","timeUp","componentDidMount","fetch","clubsList","then","response","ok","Error","json","setState","clubs","requestFailed","setInterval","eventDate","Date","props","date","difference","console","log","Math","floor","render","dayString"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport \"../style/components/_décompte.scss\";\r\nimport { DécompteData } from './DécompteData';\r\n\r\nclass Décompte extends Component {\r\n   \r\n    state = {\r\n        days: 0,\r\n        hours: '00',\r\n        minutes: '00',\r\n        seconds: '00',\r\n        timeUp: false\r\n   \r\n   }\r\n   componentDidMount() {\r\n      fetch(clubsList)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw Error(\"Failed connection to the API\")\r\n            }\r\n            return response\r\n        })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            this.setState({\r\n                clubs: response\r\n            })\r\n        }, () => {\r\n            this.setState({\r\n                requestFailed: true\r\n            })\r\n        })\r\n      setInterval(() => {        \r\n         let eventDate = +new Date(this.props.date);\r\n         let difference = eventDate - (+new Date());\r\n\r\n         console.log(difference);\r\n   if (difference < 1) { \r\n            this.setState({ timeUp: true });\r\n         } else {\r\n            let days = Math.floor(difference / (1000 * 60 * 60 * 24));\r\n            let hours = Math.floor((difference / (1000 * 60 * 60)) % 24);\r\n            let minutes = Math.floor((difference / (1000 * 60)) % 60);\r\n            let seconds = Math.floor((difference / (1000)) % 60);\r\n            this.setState({\r\n               hours: hours > 9 ? hours : `0${hours}`,\r\n               minutes: minutes > 9 ? minutes : `0${minutes}`,\r\n               seconds: seconds > 9 ? seconds : `0${seconds}`,\r\n               days\r\n            });\r\n         }\r\n      }, 1000)\r\n   }\r\n   render() {\r\n        const {days, hours, minutes, seconds, timeUp} = this.state;\r\n        const dayString = days > 1 ? 'days' : 'day';\r\n       \r\n   return (\r\n      timeUp?\r\n      <p> </p>\r\n      :\r\n      <div className=\"event\">\r\n              {`Prochain Événement dans : ${days} ${dayString} ${hours} hours ${minutes}  minutes ${seconds} seconds`}\r\n              </div>\r\n        );\r\n   }\r\n};\r\n\r\nexport default Décompte;\r\n"]},"metadata":{},"sourceType":"module"}