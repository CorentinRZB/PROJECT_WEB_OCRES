{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arnau\\\\Desktop\\\\OCRES\\\\Dev Web\\\\Repository\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\components\\\\D\\xE9compte.js\";\nimport React, { Component } from 'react';\nimport \"../style/components/_décompte.scss\";\n\nclass Décompte extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      days: 0,\n      hours: '00',\n      minutes: '00',\n      seconds: '00',\n      timeUp: false\n    };\n  }\n\n  componentDidMount() {\n    setInterval(() => {\n      let eventDate = +new Date(this.props.date); //on récupère la date lue dans la bdd locale\n\n      let difference = eventDate - +new Date(); //différence de temps entre la date de l'event et la date d'aujourd'hui\n      //si la date est passée ou l'event est aujourd'hui, on affiche pas le compte à rebours\n\n      if (difference < 1) {\n        this.setState({\n          timeUp: true\n        });\n      } else {\n        //si l'event n'est pas encore arrivé\n        //on set les valeur du state de ma classe\n        let days = Math.floor(difference / (1000 * 60 * 60 * 24));\n        let hours = Math.floor(difference / (1000 * 60 * 60) % 24);\n        let minutes = Math.floor(difference / (1000 * 60) % 60);\n        let seconds = Math.floor(difference / 1000 % 60);\n        this.setState({\n          hours: hours > 9 ? hours : `0${hours}`,\n          minutes: minutes > 9 ? minutes : `0${minutes}`,\n          seconds: seconds > 9 ? seconds : `0${seconds}`,\n          days\n        });\n      }\n    }, 1000);\n  }\n\n  render() {\n    const {\n      days,\n      hours,\n      minutes,\n      seconds,\n      timeUp\n    } = this.state;\n    const dayString = days > 1 ? 'jours' : 'jour';\n    return timeUp ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, \" \") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"event\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, \"Prochain \\xC9v\\xE9nement dans : \", days, \" \", dayString, \" \", hours, \" heures \", minutes, \"  minutes \", seconds, \" secondes\"));\n  }\n\n}\n\n;\nexport default Décompte;","map":{"version":3,"sources":["C:/Users/arnau/Desktop/OCRES/Dev Web/Repository/PROJECT_WEB_OCRES/frontend/src/components/Décompte.js"],"names":["React","Component","Décompte","state","days","hours","minutes","seconds","timeUp","componentDidMount","setInterval","eventDate","Date","props","date","difference","setState","Math","floor","render","dayString"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,oCAAP;;AAEA,MAAMC,QAAN,SAAuBD,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAG7BE,KAH6B,GAGrB;AACJC,MAAAA,IAAI,EAAE,CADF;AAEJC,MAAAA,KAAK,EAAE,IAFH;AAGJC,MAAAA,OAAO,EAAE,IAHL;AAIJC,MAAAA,OAAO,EAAE,IAJL;AAKJC,MAAAA,MAAM,EAAE;AALJ,KAHqB;AAAA;;AAY9BC,EAAAA,iBAAiB,GAAG;AACjBC,IAAAA,WAAW,CAAC,MAAM;AACf,UAAIC,SAAS,GAAG,CAAC,IAAIC,IAAJ,CAAS,KAAKC,KAAL,CAAWC,IAApB,CAAjB,CADe,CAC8B;;AAC7C,UAAIC,UAAU,GAAGJ,SAAS,GAAI,CAAC,IAAIC,IAAJ,EAA/B,CAFe,CAE6B;AAE5C;;AACN,UAAIG,UAAU,GAAG,CAAjB,EAAoB;AACX,aAAKC,QAAL,CAAc;AAAER,UAAAA,MAAM,EAAE;AAAV,SAAd;AACF,OAFP,MAEa;AACJ;AACA;AACA,YAAIJ,IAAI,GAAGa,IAAI,CAACC,KAAL,CAAWH,UAAU,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAArB,CAAX;AACA,YAAIV,KAAK,GAAGY,IAAI,CAACC,KAAL,CAAYH,UAAU,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAX,GAAkC,EAA7C,CAAZ;AACA,YAAIT,OAAO,GAAGW,IAAI,CAACC,KAAL,CAAYH,UAAU,IAAI,OAAO,EAAX,CAAX,GAA6B,EAAxC,CAAd;AACA,YAAIR,OAAO,GAAGU,IAAI,CAACC,KAAL,CAAYH,UAAU,GAAI,IAAf,GAAwB,EAAnC,CAAd;AACA,aAAKC,QAAL,CAAc;AACXX,UAAAA,KAAK,EAAEA,KAAK,GAAG,CAAR,GAAYA,KAAZ,GAAqB,IAAGA,KAAM,EAD1B;AAEXC,UAAAA,OAAO,EAAEA,OAAO,GAAG,CAAV,GAAcA,OAAd,GAAyB,IAAGA,OAAQ,EAFlC;AAGXC,UAAAA,OAAO,EAAEA,OAAO,GAAG,CAAV,GAAcA,OAAd,GAAyB,IAAGA,OAAQ,EAHlC;AAIXH,UAAAA;AAJW,SAAd;AAMF;AACH,KArBU,EAqBR,IArBQ,CAAX;AAsBF;;AACDe,EAAAA,MAAM,GAAG;AACJ,UAAM;AAACf,MAAAA,IAAD;AAAOC,MAAAA,KAAP;AAAcC,MAAAA,OAAd;AAAuBC,MAAAA,OAAvB;AAAgCC,MAAAA;AAAhC,QAA0C,KAAKL,KAArD;AACA,UAAMiB,SAAS,GAAGhB,IAAI,GAAG,CAAP,GAAW,OAAX,GAAqB,MAAvC;AAEL,WACGI,MAAM,gBACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADM,gBAGN;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAC2BJ,IAD3B,OACkCgB,SADlC,OAC8Cf,KAD9C,cAC6DC,OAD7D,gBACgFC,OADhF,cADA,CAJH;AASC;;AAjD6B;;AAkDhC;AAED,eAAeL,QAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport \"../style/components/_décompte.scss\";\r\n\r\nclass Décompte extends Component {\r\n   \r\n   //Décompte initialisé à 0\r\n    state = {\r\n        days: 0,\r\n        hours: '00',\r\n        minutes: '00',\r\n        seconds: '00',\r\n        timeUp: false\r\n   \r\n   }\r\n \r\n   componentDidMount() {\r\n      setInterval(() => {        \r\n         let eventDate = +new Date(this.props.date);  //on récupère la date lue dans la bdd locale\r\n         let difference = eventDate - (+new Date()); //différence de temps entre la date de l'event et la date d'aujourd'hui\r\n\r\n         //si la date est passée ou l'event est aujourd'hui, on affiche pas le compte à rebours\r\n   if (difference < 1) { \r\n            this.setState({ timeUp: true });\r\n         } else {\r\n            //si l'event n'est pas encore arrivé\r\n            //on set les valeur du state de ma classe\r\n            let days = Math.floor(difference / (1000 * 60 * 60 * 24));\r\n            let hours = Math.floor((difference / (1000 * 60 * 60)) % 24);\r\n            let minutes = Math.floor((difference / (1000 * 60)) % 60);\r\n            let seconds = Math.floor((difference / (1000)) % 60);\r\n            this.setState({\r\n               hours: hours > 9 ? hours : `0${hours}`,\r\n               minutes: minutes > 9 ? minutes : `0${minutes}`,\r\n               seconds: seconds > 9 ? seconds : `0${seconds}`,\r\n               days\r\n            });\r\n         }\r\n      }, 1000)\r\n   }\r\n   render() {\r\n        const {days, hours, minutes, seconds, timeUp} = this.state;\r\n        const dayString = days > 1 ? 'jours' : 'jour';\r\n       \r\n   return (\r\n      timeUp?\r\n      <p> </p>\r\n      :\r\n      <div className=\"event\">\r\n      <h1> \r\n      Prochain Événement dans : {days} {dayString} {hours} heures {minutes}  minutes {seconds} secondes</h1>\r\n      </div>\r\n        );\r\n   }\r\n};\r\n\r\nexport default Décompte;\r\n"]},"metadata":{},"sourceType":"module"}